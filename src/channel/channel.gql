# 通道详情
query getChannel($name: String!) {
  channel(name: $name) {
    name
    description
    creationTimestamp
    epolicy {
      name
      description
      creationTimestamp
    }
    members {
      name
      joinedAt
    }
    peers {
      name
      namespace
    }
    chaincode {
      name
      displayName
      version
      phase
    }
  }
}

# 创建通道
mutation createChannel($network: String!, $channel: NewChannel!) {
  channelCreate(network: $network, channel: $channel) {
    name
    members{
      name
    }
    peers {
      name
      namespace
    }
    creationTimestamp
    status
  }
}

# 更新通道（添加节点）
mutation updateChannel($channel: UpdateChannel!, $name: String!) {
  channelUpdate(channel: $channel, name: $name) {
    name
    members{
      name
    }
    peers {
      name
      namespace
    }
    creationTimestamp
    status
  }
}

# 更新通道（邀请组织）
mutation updateMemberChannel($name: String!, $members: [String!]!) {
  channelMemberUpdate(name: $name, members: $members)
}

# 通道连接文件
query getChannelProfile($name: String!) {
  channel(name: $name) {
    name
    profileJson
  }
}
